# Temporal UI Configuration with Google SSO
# Mount this at /etc/temporal/config/ui.yaml in the container
#
# Required environment variables (see deploy/.env):
#   TEMPORAL_UI_HOST          -> e.g. anticipated-*.trycloudflare.com
#   ADMIN_PORTAL_HOST         -> e.g. sorted-*.trycloudflare.com (optional)
#   GOOGLE_CLIENT_ID          -> from Google Cloud Console
#   GOOGLE_CLIENT_SECRET      -> from Google Cloud Console

temporalGrpcAddress: temporal-server:7233
host: 0.0.0.0
port: 8080
enableUi: true
defaultNamespace: default

notifyOnNewVersion: false
feedbackUrl: ""

cors:
  cookieInsecure: false
  allowOrigins:
    - "https://${TEMPORAL_UI_HOST}"
    - "https://${ADMIN_PORTAL_HOST}"
    - "http://localhost:3000"
    - "http://localhost:8080"

cloudUi: false
hideLogs: false

# Google OAuth
auth:
  enabled: true
  providers:
    - label: "Sign in with Google"
      type: oidc
      providerUrl: "https://accounts.google.com"
      clientId: "${GOOGLE_CLIENT_ID}"
      clientSecret: "${GOOGLE_CLIENT_SECRET}"
      scopes:
        - openid
        - profile
        - email
      callbackUrl: "https://${TEMPORAL_UI_HOST}/sso/callback"

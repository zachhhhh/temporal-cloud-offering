import{w as l}from"./COxHBxUK.js";function s(t){var u;const e=`; ${document.cookie}`.split(`; ${t}=`);return e.length===2&&((u=e.pop())==null?void 0:u.split(";").shift())||null}function a(t){document.cookie=`${t}=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT`}function i(){const t=localStorage.getItem("auth_user");if(t)try{return JSON.parse(t)}catch{localStorage.removeItem("auth_user")}const o=s("auth");if(o)try{const e=JSON.parse(decodeURIComponent(o));return localStorage.setItem("auth_user",JSON.stringify(e)),e}catch{a("auth")}return null}function c(){const t=i(),{subscribe:o,set:e,update:u}=l(t);return{subscribe:o,login:r=>{localStorage.setItem("auth_user",JSON.stringify(r)),e(r)},logout:()=>{localStorage.removeItem("auth_user"),a("auth"),e(null)},isAuthenticated:()=>{let r=!1;return o(n=>{r=n!==null})(),r}}}const g=c();export{g as a};

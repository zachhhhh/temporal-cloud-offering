# Temporal Cloud Helm Values - OKE Minimal
# Optimized for Oracle Cloud with minimal resources (~$50/month budget)

global:
  domain: "temporal.zach.cloud"
  storageClass: "oci-bv"

# PostgreSQL - Disabled (deploy separately)
postgresql:
  enabled: false

# Redis - Disabled (deploy separately)
redis:
  enabled: false

# Temporal Server - Minimal
temporal:
  enabled: true
  image:
    repository: temporalio/auto-setup
    tag: latest
  replicas: 1
  resources:
    requests:
      memory: 256Mi
      cpu: 100m
    limits:
      memory: 512Mi
      cpu: 500m
  service:
    type: ClusterIP
    port: 7233

# Temporal UI - Minimal
temporalUI:
  enabled: true
  image:
    repository: temporalio/ui
    tag: latest
  replicas: 1
  resources:
    requests:
      memory: 32Mi
      cpu: 25m
    limits:
      memory: 128Mi
      cpu: 100m
  ingress:
    enabled: false # Use NodePort/LoadBalancer instead
    className: ""
    annotations: {}
    hosts: []
    tls: []

# Billing Service - Minimal
billing:
  enabled: true
  image:
    repository: python
    tag: 3.11-alpine
  replicas: 1
  resources:
    requests:
      memory: 32Mi
      cpu: 25m
    limits:
      memory: 64Mi
      cpu: 100m
  env:
    STRIPE_SECRET_KEY: ""
  ingress:
    enabled: false

# Admin Portal - Disabled (merged with marketing site)
adminPortal:
  enabled: false

# Prometheus - Disabled (use OCI monitoring)
prometheus:
  enabled: false

# Marketing Site (unified marketing + admin portal)
marketingSite:
  enabled: true
  image:
    repository: ap-singapore-1.ocir.io/axli8lqab6hf/temporal-cloud/marketing-site
    tag: latest
    pullPolicy: Always
  replicas: 1
  resources:
    requests:
      memory: 64Mi
      cpu: 50m
    limits:
      memory: 256Mi
      cpu: 200m
  service:
    type: ClusterIP
    port: 3002
  env: []
  ingress:
    enabled: true
    className: nginx
    annotations:
      kubernetes.io/ingress.class: nginx
    hosts:
      - host: cloud.temporal.zach.cloud
        paths:
          - path: /
            pathType: Prefix
    tls: []
